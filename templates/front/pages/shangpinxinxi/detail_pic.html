
<!-- 首页 -->
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<title>Home</title>
	<link rel="stylesheet" href="../../layui/css/layui.css">
	<!-- 样式 -->
	<link rel="stylesheet" href="../../css/style.css" />
	<!-- 主题（主要颜色设置） -->
	<link rel="stylesheet" href="../../css/theme.css" />
	<!-- 通用的css -->
	<link rel="stylesheet" href="../../css/common.css" />
</head>
<style>
	html::after {
		position: fixed;
		top: 0;
		right: 0;
		left: 0;
		bottom: 0;
		content: '';
		display: block;
		background-attachment: fixed;
		background-size: cover;
		background-position: center;
		background-image: url(http://codegen.caihongy.cn/20220129/7c2b359bf9c846cead5ed9ffec79e932.png);
		z-index: -1;
	}
	#swiper {
		overflow: hidden;
	}
	#swiper .layui-carousel-ind li {
		width: 16px;
		height: 10px;
		border-width: 0;
		border-style: solid;
		border-color: rgba(0,0,0,.3);
		border-radius: 3px;
		background-color: #f7f7f7;
		box-shadow: 0 0 6px rgba(255,0,0,.8);
	}
	#swiper .layui-carousel-ind li.layui-this {
		width: 24px;
		height: 10px;
		border-width: 0;
		border-style: solid;
		border-color: rgba(0,0,0,.3);
		border-radius: 0;
		background-color: red;
		box-shadow: 0 0 6px rgba(255,0,0,.8);
	}

	input#buynumber::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; }
	input#buynumber[type="number"]{ -moz-appearance: textfield; }

	.message-container {width: 100%}

	.detail-tab .layui-tab-card>.layui-tab-title .layui-this {
		background-color: rgba(203, 148, 92, 1);
		color: #fff;
		font-size: 14px;
	}

.data-detail {
padding-bottom: 20px;
}

.data-detail .layui-breadcrumb a.first {
color: #999 !important;
}
</style>
<body>

	<div id="app">

		<div class="data-detail" style="padding:0">
			<div class="data-detail-breadcrumb" :style='{"padding":"0 10px","boxShadow":"0 0 0px rgba(255,0,0,.3)","margin":"20px auto","borderColor":"rgba(213, 169, 122, 1)","backgroundColor":"rgba(223, 195, 153, 1)","borderRadius":"10px","borderWidth":"10px 0 0","borderStyle":"solid","height":"54px"}'>
				<span class="layui-breadcrumb">
					<a class="first" :style='{"padding":"8px 10px","boxShadow":"0 0 6px rgba(255,0,0,0)","margin":"0 5px","borderColor":"rgba(255,0,0,.3)","backgroundColor":"rgba(255, 255, 255, 0)","color":"#999","borderRadius":"0","borderWidth":"0","fontSize":"16px","borderStyle":"solid"}' href="../home/home.html">Home</a>
					<a><cite :style='{"padding":"8px 15px","boxShadow":"0 0 0px rgba(255,0,0,.3)","margin":"0 15px","borderColor":"rgba(255,0,0,.3)","backgroundColor":"rgba(255, 255, 255, 0)","color":"rgba(255, 255, 255, 1)","borderRadius":"4px","borderWidth":"0","fontSize":"16px","borderStyle":"solid"}'>{{title}}</cite></a>
				</span>

				
			</div>
		</div>

        <div class="data-detail" style="padding:0;width:100%;text-align: center; height: 300px;">
            <img id="goodImg" style="width: 100px;height: 100px;border-radius: 50%;border: 2px solid #EEEEEE;"
                 :style='{"boxShadow":"0 0 0px rgba(255,0,0,.8)","borderColor":"rgba(145, 143, 132, 1)","backgroundColor":"#fff","borderRadius":"0","borderWidth":"2px","width":"80px","borderStyle":"solid","height":"80px"}'
                 src="../../img/pic.png" >
            <input type="hidden" id="goodPic" name="goodPic" />
            <button :style='{"padding":"0 20px","boxShadow":"0 0 0px rgba(255,0,0,.5)","margin":"0 10px 0 0","borderColor":"#ccc","backgroundColor":"rgba(223, 195, 153, 1)","color":"rgba(0, 0, 0, 1)","borderRadius":"44px","borderWidth":"0","width":"auto","fontSize":"14px","borderStyle":"solid","height":"44px"}' type="button" class="layui-btn btn-theme"
                    id="goodUpload">upload identification</button>
        </div>


		<div class="data-detail" style="padding:0;width:100%;" v-show="show"
             :style='{"padding":"0","boxShadow":"0 0 6px rgba(255,0,0,0)","margin":"0","borderColor":"rgba(0,0,0,.3)","borderRadius":"0","borderWidth":"0","background":"transparent","borderStyle":"solid"}'>
			<div class="layui-row" style="display: flex;width:980px;margin: 0 auto;">
				<div class="layui-col-md5" style="width:400px">
					<div class="layui-carousel" id="swiper" :style='{"boxShadow":"0 0 0px rgba(255,0,0,.8)","margin":"0 auto","borderColor":"rgba(0,0,0,.3)","borderRadius":"0","borderWidth":"0","width":"400px","borderStyle":"solid","height":"400px"}'>
					  <div carousel-item>
						<div v-if="swiperList.length" v-for="(item,index) in swiperList" :key="index">
							<img style="width: 100%;height: 100%;object-fit:cover;" :src="baseurl+item" />
						</div>
					  </div>
					</div>

					
		
				</div>
				<div class="layui-col-md7" style="padding-left: 20px;flex: 1;" :style='{"padding":"0 ","boxShadow":"0 0 0px rgba(255,0,0,0)","margin":"0 0 0 20px","borderColor":"rgba(255,0,0,.3)","backgroundColor":"#fff","borderRadius":"0","borderWidth":"0","borderStyle":"solid"}'>
					<h1 style="position: relative;" :style='{"padding":"20px 15px","boxShadow":"0 0 0px rgba(255,0,0,.3)","borderColor":"rgba(0,0,0,.3)","backgroundColor":"#fff","color":"rgba(0, 0, 0, 1)","borderRadius":"0","textAlign":"left","borderWidth":"0","fontSize":"16px","borderStyle":"solid"}' class="title">{{title}}</h1>
					
					<div :style='{"padding":"6px 15px","boxShadow":"0 0 0px rgba(255,0,0,0)","margin":"0","borderColor":"rgba(255,0,0,.3)","backgroundColor":"#fff","borderRadius":"0","borderWidth":"0","borderStyle":"solid"}' v-if="detail.price" class="detail-item">
						<span :style='{"padding":"0 12px 0 0","minWidth":"94px","fontSize":"16px","color":"rgba(0, 0, 0, 1)","textAlign":"right"}'>price：</span>
						<span :style='{"padding":"5px 20px","boxShadow":"0 0 6px rgba(255,0,0,0)","borderColor":"rgba(214, 203, 203, 1)","backgroundColor":"#fff","color":"red","borderRadius":"0","textAlign":"left","borderWidth":"1px","width":"auto","lineHeight":"34px","fontSize":"18px","borderStyle":"solid"}' class="price">
							<span :style='{"fontSize":"12px"}'>￥</span>{{Number(detail.price).toFixed(2)}}
						</span>
					</div>
					<div :style='{"padding":"6px 15px","boxShadow":"0 0 0px rgba(255,0,0,0)","margin":"0","borderColor":"rgba(255,0,0,.3)","backgroundColor":"#fff","borderRadius":"0","borderWidth":"0","borderStyle":"solid"}' v-if="detail.jf" class="detail-item">
						<span :style='{"padding":"0 12px 0 0","minWidth":"94px","fontSize":"16px","color":"rgba(0, 0, 0, 1)","textAlign":"right"}'>integral：</span>
						<span :style='{"padding":"5px 20px","boxShadow":"0 0 0px rgba(255,0,0,0)","borderColor":"rgba(214, 203, 203, 1)","backgroundColor":"#fff","color":"red","borderRadius":"0","textAlign":"left","borderWidth":"1px","width":"auto","lineHeight":"34px","fontSize":"18px","borderStyle":"solid"}' class="price">
							{{detail.jf}}
						</span>
					</div>


					
					<div :style='{"padding":"6px 15px","boxShadow":"0 0 0px rgba(255,0,0,0)","margin":"0","borderColor":"rgba(255,0,0,.3)","backgroundColor":"#fff","borderRadius":"0","borderWidth":"0","borderStyle":"solid"}' class="detail-item">
						<span :style='{"padding":"0 12px 0 0","minWidth":"94px","fontSize":"16px","color":"rgba(0, 0, 0, 1)","textAlign":"right"}'>Product Types：</span>
						<span  style="word-break: break-all" :style='{"padding":"5px 20px","boxShadow":"0 0 0px rgba(255,0,0,.3)","borderColor":"rgba(214, 203, 203, 1)","backgroundColor":"#fff","color":"rgba(0, 0, 0, 1)","borderRadius":"0","textAlign":"left","borderWidth":"1px","width":"auto","lineHeight":"34px","fontSize":"14px","borderStyle":"solid"}' class="desc">
							{{detail.shangpinleixing}}
						</span>
					</div>
					<div :style='{"padding":"6px 15px","boxShadow":"0 0 0px rgba(255,0,0,0)","margin":"0","borderColor":"rgba(255,0,0,.3)","backgroundColor":"#fff","borderRadius":"0","borderWidth":"0","borderStyle":"solid"}' class="detail-item">
						<span :style='{"padding":"0 12px 0 0","minWidth":"94px","fontSize":"16px","color":"rgba(0, 0, 0, 1)","textAlign":"right"}'>Product Description：</span>
						<span  style="word-break: break-all" :style='{"padding":"5px 20px","boxShadow":"0 0 0px rgba(255,0,0,.3)","borderColor":"rgba(214, 203, 203, 1)","backgroundColor":"#fff","color":"rgba(0, 0, 0, 1)","borderRadius":"0","textAlign":"left","borderWidth":"1px","width":"auto","lineHeight":"34px","fontSize":"14px","borderStyle":"solid"}' class="desc">
							{{detail.shangpinjianjie}}
						</span>
					</div>
					<div :style='{"padding":"6px 15px","boxShadow":"0 0 0px rgba(255,0,0,0)","margin":"0","borderColor":"rgba(255,0,0,.3)","backgroundColor":"#fff","borderRadius":"0","borderWidth":"0","borderStyle":"solid"}' class="detail-item">
						<span :style='{"padding":"0 12px 0 0","minWidth":"94px","fontSize":"16px","color":"rgba(0, 0, 0, 1)","textAlign":"right"}'>Product specifications：</span>
						<span  style="word-break: break-all" :style='{"padding":"5px 20px","boxShadow":"0 0 0px rgba(255,0,0,.3)","borderColor":"rgba(214, 203, 203, 1)","backgroundColor":"#fff","color":"rgba(0, 0, 0, 1)","borderRadius":"0","textAlign":"left","borderWidth":"1px","width":"auto","lineHeight":"34px","fontSize":"14px","borderStyle":"solid"}' class="desc">
							{{detail.shangpinguige}}
						</span>
					</div>
					<div :style='{"padding":"6px 15px","boxShadow":"0 0 0px rgba(255,0,0,0)","margin":"0","borderColor":"rgba(255,0,0,.3)","backgroundColor":"#fff","borderRadius":"0","borderWidth":"0","borderStyle":"solid"}' class="detail-item">
						<span :style='{"padding":"0 12px 0 0","minWidth":"94px","fontSize":"16px","color":"rgba(0, 0, 0, 1)","textAlign":"right"}'>production place：</span>
						<span  style="word-break: break-all" :style='{"padding":"5px 20px","boxShadow":"0 0 0px rgba(255,0,0,.3)","borderColor":"rgba(214, 203, 203, 1)","backgroundColor":"#fff","color":"rgba(0, 0, 0, 1)","borderRadius":"0","textAlign":"left","borderWidth":"1px","width":"auto","lineHeight":"34px","fontSize":"14px","borderStyle":"solid"}' class="desc">
							{{detail.shengchandi}}
						</span>
					</div>
					<div :style='{"padding":"6px 15px","boxShadow":"0 0 0px rgba(255,0,0,0)","margin":"0","borderColor":"rgba(255,0,0,.3)","backgroundColor":"#fff","borderRadius":"0","borderWidth":"0","borderStyle":"solid"}' class="detail-item">
						<span :style='{"padding":"0 12px 0 0","minWidth":"94px","fontSize":"16px","color":"rgba(0, 0, 0, 1)","textAlign":"right"}'>raw materials：</span>
						<span  style="word-break: break-all" :style='{"padding":"5px 20px","boxShadow":"0 0 0px rgba(255,0,0,.3)","borderColor":"rgba(214, 203, 203, 1)","backgroundColor":"#fff","color":"rgba(0, 0, 0, 1)","borderRadius":"0","textAlign":"left","borderWidth":"1px","width":"auto","lineHeight":"34px","fontSize":"14px","borderStyle":"solid"}' class="desc">
							{{detail.yuancailiao}}
						</span>
					</div>
					<div :style='{"padding":"6px 15px","boxShadow":"0 0 0px rgba(255,0,0,0)","margin":"0","borderColor":"rgba(255,0,0,.3)","backgroundColor":"#fff","borderRadius":"0","borderWidth":"0","borderStyle":"solid"}' class="detail-item">
						<span :style='{"padding":"0 12px 0 0","minWidth":"94px","fontSize":"16px","color":"rgba(0, 0, 0, 1)","textAlign":"right"}'>launch date：</span>
						<span  style="word-break: break-all" :style='{"padding":"5px 20px","boxShadow":"0 0 0px rgba(255,0,0,.3)","borderColor":"rgba(214, 203, 203, 1)","backgroundColor":"#fff","color":"rgba(0, 0, 0, 1)","borderRadius":"0","textAlign":"left","borderWidth":"1px","width":"auto","lineHeight":"34px","fontSize":"14px","borderStyle":"solid"}' class="desc">
							{{detail.shangjiariqi}}
						</span>
					</div>
					<div :style='{"padding":"6px 15px","boxShadow":"0 0 0px rgba(255,0,0,0)","margin":"0","borderColor":"rgba(255,0,0,.3)","backgroundColor":"#fff","borderRadius":"0","borderWidth":"0","borderStyle":"solid"}' class="detail-item">
						<span :style='{"padding":"0 12px 0 0","minWidth":"94px","fontSize":"16px","color":"rgba(0, 0, 0, 1)","textAlign":"right"}'>hit count：</span>
						<span  style="word-break: break-all" :style='{"padding":"5px 20px","boxShadow":"0 0 0px rgba(255,0,0,.3)","borderColor":"rgba(214, 203, 203, 1)","backgroundColor":"#fff","color":"rgba(0, 0, 0, 1)","borderRadius":"0","textAlign":"left","borderWidth":"1px","width":"auto","lineHeight":"34px","fontSize":"14px","borderStyle":"solid"}' class="desc">
							{{detail.clicknum}}
						</span>
					</div>
				</div>
			</div>
		</div>
	</div>


	<script src="../../layui/layui.js"></script>
	<script src="../../js/vue.js"></script>
	<!-- 组件配置信息 -->
	<script src="../../js/config.js"></script>
	<!-- 扩展插件配置信息 -->
	<script src="../../modules/config.js"></script>
	<!-- 工具方法 -->
	<script src="../../js/utils.js"></script>

	<script>
		var vue = new Vue({
			el: '#app',
			data: {
				// 轮播图
				swiperList: [],
				// 数据详情
				detail: {
					id: 0
				},
                img: undefined,
                show: false,
				// 商品标题
				title: '',
				// 倒计时
				count: 0,
				// 加入购物车数量
				buynumber: 1,
				// 当前详情页表
				detailTable: 'shangpinxinxi',
				baseurl: '',
				// 评论列表
				dataList: [],
				storeupFlag: 0,
				// 选座座位列表
				numberList: []
			},
			// 倒计时效果
			computed: {

			},
			//  清除定时器
			destroyed: function() {

			},
			methods: {

			}
		})

        function detail(id){
		    vue.detail.id = id;
			vue.baseurl = layui.http.baseurl;

			// 商品信息
			layui.http.request(`${vue.detailTable}/detail/` + id, 'get', {}, function(res) {
				// 详情信息
				vue.detail = res.data
				vue.title = vue.detail.shangpinmingcheng;
				// 轮播图片
				vue.swiperList = vue.detail.shangpintupian ? vue.detail.shangpintupian.split(",") : [];
				// 轮播图
				vue.$nextTick(() => {
				  carousel.render({
					elem: '#swiper',
					width: '400px',
					height: '400px',
					arrow: 'hover',
					anim: 'default',
					autoplay: 'true',
					interval: '3000',
					indicator: 'none'
				  });

				})
			});
        }

		layui.use(['layer', 'form', 'element', 'carousel', 'upload', 'http', 'jquery', 'laypage'], function() {
			var layer = layui.layer;
			var jquery = layui.jquery;
			var element = layui.element;
			var form = layui.form;
			var carousel = layui.carousel;
			var upload = layui.upload;
			var http = layui.http;

			var limit = 10;

			// 数据ID
			var id = http.getParam('id');

			var goodUpload = upload.render({
					//绑定元素
					elem: '#goodUpload',
					//上传接口
					url: http.baseurl + 'good/upload',
					// 请求头
					headers: {
						Token: localStorage.getItem('Token')
					},
					// 允许上传时校验的文件类型
					accept: 'images',
					before: function() {
						//loading层
						var index = layer.load(1, {
							shade: [0.1, '#fff'] //0.1透明度的白色背景
						});
					},
					// 上传成功
					done: function(res) {
						console.log(res);
						layer.closeAll();
						if (res.code == 0) {
							layer.msg("Uploaded successfully", {
								time: 2000,
								icon: 6
							})
							var url = 'upload/' + res.file;
							jquery('#goodImg').attr('src', http.baseurl+url)
                            if(res.data != {}){
                                // 详情信息
                                vue.show = true
                                vue.detail = res.data
                                vue.title = vue.detail.shangpinmingcheng;
                                // 轮播图片
                                vue.swiperList = vue.detail.shangpintupian ? vue.detail.shangpintupian.split(",") : [];
                                for(var i = 0; i < vue.swiperList.length; i++){
                                    vue.swiperList[i] = http.baseurl + vue.swiperList[i]
                                }
                                // 轮播图
                                vue.$nextTick(() => {
                                  carousel.render({
                                    elem: '#swiper',
                                    width: '400px',
                                    height: '400px',
                                    arrow: 'hover',
                                    anim: 'default',
                                    autoplay: 'true',
                                    interval: '3000',
                                    indicator: 'none'
                                  });

                                })
                            }
						} else {
							layer.msg(res.msg, {
								time: 2000,
								icon: 5
							})
						}
					},
					//请求异常回调
					error: function() {
						layer.closeAll();
						layer.msg("Request interface exception", {
							time: 2000,
							icon: 5
						})
					}
				});

        });
		</script>
	</body>
</html>
